CREATE DATABASE POPULAT;

CREATE TABLE COUNTRY(NAME_OF_COUNTRY CHAR(20) PRIMARY KEY, CAPITAL CHAR(20));
CREATE TABLE REGION(NAME_OF_REGION CHAR(35) NOT NULL, NAME_OF_COUNTRY CHAR(20) NOT NULL, NAME_OF_REGIONAL_CAPITAL CHAR(20) NOT NULL, PRIMARY KEY(NAME_OF_REGION, NAME_OF_COUNTRY))
CREATE TABLE DISTRICT(NAME_OF_DISTRICT CHAR(20) NOT NULL, NAME_OF_REGION CHAR(35) NOT NULL, NAME_OF_COUNTRY CHAR(20), NAME_OF_DISTRICT_CAPITAL CHAR(20) NOT NULL, PRIMARY KEY(NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY));
CREATE TABLE SETTLEMENT(NAME_OF_SETTLEMENT CHAR(20) NOT NULL, NAME_OF_DISTRICT CHAR(20) NOT NULL, NAME_OF_REGION CHAR(35) NOT NULL, NAME_OF_COUNTRY CHAR(20) NOT NULL, STATUS CHAR(20), PRIMARY KEY(NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY));
CREATE TABLE STREET(NAME_OF_STREET CHAR(20) NOT NULL, NAME_OF_SETTLEMENT CHAR(20) NOT NULL, NAME_OF_DISTRICT CHAR(20) NOT NULL, NAME_OF_REGION CHAR(35) NOT NULL, NAME_OF_COUNTRY CHAR(20) NOT NULL, PRIMARY KEY(NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY));
CREATE TABLE HOUSE(NUMBER_OF_HOUSE CHAR(20) NOT NULL, NAME_OF_STREET CHAR(20) NOT NULL, NAME_OF_SETTLEMENT CHAR(20) NOT NULL, NAME_OF_DISTRICT CHAR(20) NOT NULL, NAME_OF_REGION CHAR(35) NOT NULL, NAME_OF_COUNTRY CHAR(20) NOT NULL, PRIMARY KEY(NUMBER_OF_HOUSE, NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY));
CREATE TABLE FLAT(NUMBER_OF_FLAT CHAR(10) NOT NULL, NUMBER_OF_HOUSE CHAR(20) NOT NULL, NAME_OF_STREET CHAR(20) NOT NULL, NAME_OF_SETTLEMENT CHAR(20) NOT NULL, NAME_OF_DISTRICT CHAR(20) NOT NULL, NAME_OF_REGION CHAR(35) NOT NULL, NAME_OF_COUNTRY CHAR(20) NOT NULL, PRIMARY KEY(NUMBER_OF_FLAT, NUMBER_OF_HOUSE, NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY));
CREATE TABLE PERSON(PASSPORT CHAR(9) PRIMARY KEY, SURNAME CHAR(20) NOT NULL, NAME CHAR(20) NOT NULL, DATE_OF_BIRTH DATE, NUMBER_OF_FLAT CHAR(10), NUMBER_OF_HOUSE CHAR(20), NAME_OF_STREET CHAR(20), NAME_OF_SETTLEMENT CHAR(20), NAME_OF_DISTRICT CHAR(20), NAME_OF_REGION CHAR(35), NAME_OF_COUNTRY CHAR(20));

DROP TABLE COUNTRY;
DROP TABLE REGION;
DROP TABLE DISTRICT;
DROP TABLE SETTLEMENT;
DROP TABLE STREET;
DROP TABLE HOUSE;
DROP TABLE FLAT;
DROP TABLE PERSON;

SELECT * FROM COUNTRY;
SELECT * FROM REGION;
SELECT * FROM DISTRICT;
SELECT * FROM SETTLEMENT;
SELECT * FROM STREET;
SELECT * FROM HOUSE;
SELECT * FROM FLAT;
SELECT * FROM PERSON;

ALTER TABLE PERSON ADD CONSTRAINT FK1_PERSON FOREIGN KEY(NUMBER_OF_FLAT, NUMBER_OF_HOUSE, NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY) REFERENCES FLAT(NUMBER_OF_FLAT, NUMBER_OF_HOUSE, NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY);
ALTER TABLE PERSON ADD CONSTRAINT FK2_PERSON FOREIGN KEY(NUMBER_OF_HOUSE, NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY) REFERENCES HOUSE(NUMBER_OF_HOUSE, NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY);
ALTER TABLE FLAT ADD CONSTRAINT FK_FLAT FOREIGN KEY(NUMBER_OF_HOUSE, NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY) REFERENCES HOUSE(NUMBER_OF_HOUSE, NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY);
ALTER TABLE HOUSE ADD CONSTRAINT FK_HOUSE FOREIGN KEY(NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY) REFERENCES STREET( NAME_OF_STREET, NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY);
ALTER TABLE STREET ADD CONSTRAINT FK_STREET FOREIGN KEY(NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY) REFERENCES SETTLEMENT(NAME_OF_SETTLEMENT, NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY);
ALTER TABLE SETTLEMENT ADD CONSTRAINT FK_SETTLEMENT FOREIGN KEY(NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY) REFERENCES DISTRICT(NAME_OF_DISTRICT, NAME_OF_REGION, NAME_OF_COUNTRY);
ALTER TABLE DISTRICT ADD CONSTRAINT FK_DISTRICT FOREIGN KEY(NAME_OF_REGION, NAME_OF_COUNTRY) REFERENCES REGION(NAME_OF_REGION, NAME_OF_COUNTRY);
ALTER TABLE REGION ADD CONSTRAINT FK_REGION FOREIGN KEY(NAME_OF_COUNTRY) REFERENCES COUNTRY(NAME_OF_COUNTRY);

ALTER TABLE PERSON DROP FK1_PERSON;
ALTER TABLE PERSON DROP FK2_PERSON;
ALTER TABLE FLAT DROP FK_FLAT;
ALTER TABLE HOUSE DROP FK_HOUSE;
ALTER TABLE STREET DROP FK_STREET;
ALTER TABLE SETTLEMENT DROP FK_SETTLEMENT;
ALTER TABLE DISTRICT DROP FK_DISTRICT;
ALTER TABLE REGION DROP FK_REGION;

INSERT INTO COUNTRY
VALUES('BELARUS', 'MINSK'),
('LITHUANIA', 'VILNIUS'),
('POLAND', 'WARSAW');

INSERT INTO REGION
VALUES('KAUNO APSKRITIS', 'LITHUANIA', 'KAUNAS'),
('BREST REGION', 'BELARUS', 'BREST'),
('MINSK REGION', 'BELARUS', 'MINSK'),
('WOJEWODZTWO MAZOWIECKIE', 'POLAND', 'WARSAW');

INSERT INTO DISTRICT
VALUES('LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS', 'LUNINETS'),
('POLOTSK DISTRICT', 'MINSK REGION', 'BELARUS', 'POLOTSK'),
('MINSK DISTRICT', 'MINSK REGION', 'BELARUS', 'MINSK');

DELETE FROM DISTRICT;

INSERT INTO SETTLEMENT
VALUES('MIKASHEVICHI', 'LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS', 'TOWN'),
('LUNINETS', 'LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS', 'CITY'),
('VULKA', 'LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS', 'VILLAGE'),
('MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS', 'CITY');

DELETE FROM SETTLEMENT;

INSERT INTO STREET
VALUES('GASTELLO STREET', 'LUNINETS', 'LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS'),
('PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS');

INSERT INTO HOUSE
VALUES('1', 'GASTELLO STREET', 'LUNINETS', 'LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS'),
('1A', 'GASTELLO STREET', 'LUNINETS', 'LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS'),
('4', 'GASTELLO STREET', 'LUNINETS', 'LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS'),
('15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('21B', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS');

INSERT INTO FLAT
VALUES('1', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('2', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('3', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('4', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('5', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS');

INSERT INTO PERSON
VALUES('AB1234567', 'PERSON1', 'PERSON1', '1995-12-11','1', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('AB7654321', 'PERSON2', 'PERSON2', '1994-01-18', '1', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('AB2345714', 'PERSON3', 'PERSON3', '1982-09-01', '2', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('AB7162354', 'PERSON4', 'PERSON4', '1982-08-14', '3', '15', 'PETRUS BROVKA STREET' ,'MINSK', 'MINSK DISTRICT', 'MINSK REGION', 'BELARUS'),
('AB7263119', 'PERSON5', 'PERSON5', '1999-11-27', NULL, '4', 'GASTELLO STREET', 'LUNINETS', 'LUNINETSKY DISTRICT', 'BREST REGION', 'BELARUS');